@startuml
!include 01-actors.txt
left to right direction

rectangle "Système de discussion instantanée" as group {

	usecase "Lire les messages" as a_chat_read
		usecase "Selectionner un correspondant" as a_read_target #Orange
		usecase "Afficher les anciens messages" as a_has_new_msg #Orange
		usecase "Afficher les nouveaux messages" as a_has_old_msg #Orange
		usecase "Afficher les pièces jointes" as a_has_file_msg #Orange
		
	usecase "Envoyer des messages" as a_chat_send
		usecase "Saisir un message" as a_chat_send_write #Orange
		usecase "Joindre un fichier" as a_chat_send_files #Orange

	usecase "Gérer mes contacts" as a_chat_contact
		usecase "Chercher un contact" as a_contact_search #Orange
			usecase "Ajouter un contact" as a_contact_add #Orange
		usecase "Afficher mes contact" as a_contact_list #Orange
			usecase "Supprimer un contact" as a_contact_del #Orange

	usecase "Utiliser le menu principal" as a_nav #Orange
}

usecase "S'authentifier" as a_auth #Yellow
a_auth <|. group : "\n<<include>>        \n"

user -- a_chat_read
user -- a_chat_send
user -- a_chat_contact

a_chat_read ^.. a_has_old_msg : "<<extends>>\nEXT: si old msg > 0"
a_chat_read ^.. a_has_new_msg : "<<extends>>\nEXT: si new msg > 0"
a_chat_read ^.. a_has_file_msg : "<<extends>>\nEXT: si pièces-jointes > 0"
a_chat_read ..^ a_read_target : "<<include>>"

a_chat_send ..^ a_read_target : "<<include>>"
a_chat_send ..^ a_chat_send_write : "<<include>>"
a_chat_send ^.. a_chat_send_files : "<<extends>>\nEXT: si pièces-jointes > 0"

a_chat_contact ..^ a_contact_list : "<<include>>"
a_contact_search ..^ a_contact_add : "<<include>>"
a_contact_list ..^ a_contact_del : "<<include>>"
a_chat_contact ..^ a_contact_search : "<<include>>"

user -- a_nav

/'
!include 01-actors.txt
left to right direction

rectangle "Système de discussion instantanée" as group {

	usecase "Lire les messages" as a_chat_read
		usecase "Afficher les pièces jointes" as a_read_files #Orange
		usecase "Afficher l'heure des messages" as a_read_time #Orange
		usecase "Afficher les nouveaux messages" as a_read_new #Orange
		usecase "Afficher les anciens messages" as a_read_old #Orange
		usecase "Selectionner un correspondant" as a_read_target #Orange
		
	usecase "Envoyer des messages" as a_chat_send
		usecase "Rédiger un message" as a_chat_send_write #Orange
		usecase "Pouvoir joindre un fichier" as a_chat_send_files #Orange

	usecase "Gérer mes contacts" as a_chat_contact
		usecase "Chercher un contact" as a_contact_search #Orange
		usecase "Ajouter un contact" as a_contact_add #Orange
		usecase "Supprimer un contact" as a_contact_del #Orange

	usecase "Utiliser le menu principal" as a_nav #Orange
}

usecase "S'authentifier" as a_auth #Yellow
a_auth <|. group : "\n<<include>>        \n"

user -- a_chat_read
user -- a_chat_send
user -- a_chat_contact

a_chat_read ..^ a_read_old : "<<include>>"
a_chat_read ..^ a_read_new : "<<include>>"
a_chat_read ..^ a_read_time : "<<include>>"
a_chat_read ..^ a_read_files : "<<include>>"
a_chat_read ..^ a_read_target : "<<include>>"

a_chat_send ..^ a_read_target : "<<include>>"
a_chat_send ..^ a_chat_send_write : "<<include>>"
a_chat_send ..^ a_chat_send_files : "<<include>>"

a_chat_contact ..^ a_contact_add : "<<include>>"
a_chat_contact ..^ a_contact_del : "<<include>>"
a_chat_contact ..^ a_contact_search : "<<include>>"

user -- a_nav



/'
left to right direction


:Utilisateur du site: as user #Yellow
:Enfant en difficulté scolaire: as student
:Tuteur bénévole: as mentor

:Équipe Dev4U: as tech #Cyan
:Équipe Learn@Home: as owner #Cyan


student -[#AAA]-^ user
mentor -[#AAA]-^ user
owner -[#AAA]-^ user


rectangle "Système de discussion instantanée" as g_chat {
	usecase "Voir les messages" as a_view
		usecase "Avec les anciens messages" as a_view_old
		usecase "Avec les pièces jointes" as a_view_attach #Yellow
		usecase "Avec l'horodatage" as a_view_time #Yellow
		usecase "Avec les photos des expediteurs" as a_view_photos #Yellow
		usecase "D'un contact précis" as a_view_one #Yellow
		usecase "De tous les contacts" as a_view_all #Yellow

	usecase "Envoyer un message" as a_send
		usecase "Enregistrer un message" as a_send_input #Yellow
		usecase "Supprimer une pièce jointe" as a_send_attach_rem #Yellow
		usecase "Ajouter une pièce jointe" as a_send_attach_add #Yellow
		usecase "Choisir un ou des contacts cibles" as a_send_target #Yellow

'		usecase "Choisir un onglet existant" as a_ #Yellow
'		usecase "Créer un nouvel espace de chat" as a_ #Yellow
'			usecase "Choisir un ou des contacts cibles" as a_send_target #Yellow
'		usecase "Fermer un espace de chat" as a_ #Yellow

	usecase "Gérer les contacts" as a_manage_contacts
		usecase "Supprimer un contact" as a_chat_del_contact #Yellow
		usecase "Ajouter un contact" as a_chat_add_contact #Yellow

	usecase "Gérer son profil" as a_manage_profil
		usecase "Ajouter une photo de profil" as a_profil_photo #Yellow
		usecase "Editer les détails du profil" as a_profil_edit #Yellow
}

usecase "S'authentifier" as a_auth #Yellow
a_auth <|. g_chat : "\n<<include>>        \n"

'### Voir msg ###

a_view ..|> a_view_old : "<<include>>"
a_view ..|> a_view_photos : "<<include>>"
a_view ..|> a_view_attach : "<<include>>"
a_view ..|> a_view_time : "<<include>>"
a_view ..|> a_view_all : "<<include>>"
a_view ..|> a_view_one : "<<include>>"

'### Ecrire ###

a_send ..|> a_send_input : "<<include>>"
a_send ..|> a_send_attach_add : "<<include>>"
a_send ..|> a_send_attach_rem : "<<include>>"
a_send ..|> a_send_target : "<<include>>"

'### Contacts ###

a_manage_contacts ..|> a_chat_add_contact : "<<include>>"
a_manage_contacts ..|> a_chat_del_contact : "<<include>>"

'### Profil ###

a_manage_profil ..|> a_profil_edit : "<<include>>"
a_manage_profil ..|> a_profil_photo : "<<include>>"

'######

user -- a_view
user -- a_send
user -- a_manage_profil
user -- a_manage_contacts

'######

tech -- g_chat
'/
@enduml
